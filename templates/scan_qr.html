<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ø­Ø¶ÙˆØ±</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
        }

        h2 {
            margin-bottom: 20px;
            color: #0077b6;
        }

        #reader {
            width: 300px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            border-radius: 10px;
            background-color: #fff;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h2>ğŸ“· Ø§Ù…Ø³Ø­ Ø±Ù…Ø² QR Ù„ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±Ùƒ</h2>
    <div id="reader"></div>

    <script>
      const html5QrCode = new Html5Qrcode("reader");
  
      const config = {
          fps: 10,
          qrbox: 250
      };
  
      Html5Qrcode.getCameras().then(devices => {
          if (devices && devices.length) {
              // Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØ§Ù…ÙŠØ±Ø§ Ø®Ù„ÙÙŠØ©
              const backCamera = devices.find(device => device.label.toLowerCase().includes("back"));
              const cameraId = backCamera ? backCamera.id : devices[0].id;
  
              html5QrCode.start(
                  cameraId,
                  config,
                  decodedText => {
                      console.log(`âœ… Ø±Ù…Ø² ØªÙ… Ù…Ø³Ø­Ù‡: ${decodedText}`);
                      window.location.href = decodedText;
                  },
                  errorMessage => {
                      console.warn(`âŒ ÙØ´Ù„ Ø§Ù„Ù…Ø³Ø­: ${errorMessage}`);
                  }
              );
          }
      }).catch(err => {
          console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª:", err);
      });
  </script>
  
</body>
</html>
